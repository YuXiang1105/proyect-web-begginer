{% extends "base.html" %}
{% block app_pagecontent %}

<div class="title">
 <h2>Featured Species</h2>
  <h6>A selection of some specimens across the galaxies
    {% if current_user.is_authenticated %}
    <br> Welcome back  {{current_user.user}}!
    {%endif%}
  </h6>
</div>

{% with messages=get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <ul>
            {% for category, message in messages %}
              <li class="{{ category }}">{{ message }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      {% endwith %}


<div class="own_costum_cards">
    <div class="container mt-4">
        <div class="row">
            {% for alien in aliens %}
            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    <div class="card-body">
                        
{% for img in alien.image %}
    <img src="{{ url_for('static', filename='user_images/' ~ img.filename) }}" 
         alt="Imagen de {{ alien.Name }}">
{% endfor %}


                        <h5 class="card-title">{{ alien.Name }}</h5>
                        <h6 class="card-subtitle mb-2">
                           Classes:<br>
                            {% for classes in alien.classes%}
                            {{ classes.name }} <br>
                           {% endfor %} 
                        </h6>
                        {%if alien.Origin %}
                       <p class="card-text">
                            Origin: {{ alien.Origin }}
                        </p>
                        {% else %}
                        <p class="card-text">
                            Origin: Unknown
                            
                        </p> 
                        {% endif %}
                        <p class="card-text">
                            Danger: {{ alien.Danger }}
                        </p>
                       
                        <p class="card-text">
                            {{ alien.Description }}
                        </p>
                        {% if current_user.id == alien.user_id %}
                        <button>
                            <a href="{{ url_for('main.edit_alien', alien_id=alien.Id) }}">Edit</a>


                        </button>

                         <button>
                            <a href="{{ url_for('main.delete_alien', alien_id=alien.Id) }}">Delete</a>
                        </button>
                        {% endif %}
                        
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<div class="pagination">
  {% if aliens.has_prev %}
    <a href="{{ url_for('main.species', page=aliens.prev_num) }}">Previous</a>
  {% endif %}

  <span>&nbsp;Page {{ aliens.page }} of {{ aliens.pages }}&nbsp;</span>

  {% if aliens.has_next %}
    <a href="{{ url_for('main.species', page=aliens.next_num) }}">Next</a>
  {% endif %}
</div>



{% endblock %}




{% block styles %}
<link rel="stylesheet" href="../static/css/species.css">
{% endblock %}

{%block head %}
<title>Entities</title>
{% endblock %}